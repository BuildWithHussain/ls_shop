{% import "templates/macros/carousel.html" as carousel %}

{% from "templates/macros/item_card.html" import item_card %}

{% macro item_carousel(
    items='',
    embla_slide_classes='w-1/2 md:w-1/3 lg:w-1/4' ,
    navigation = False, pagination=False
    ) %}


{% call carousel.carousel(
    navigation=navigation,pagination=pagination,
    embla_container_classes='',
    carousel_container_classes='px-3',
    embla_classes='px-2 md:px-10 max-w-7xl'
    ) %}

{% for item in items %}
    <div class="embla__slide flex-shrink-0  {{embla_slide_classes}} px-1 md:px-3 ">
      {% set product_name = item.item_name if frappe.lang == "en" else item.custom_item_name_ar or item.item_name %}
        <a href="products/{{item.route}}" >
            {{ item_card(
            image=item.image or "/assets/ls_shop/images/1.jpg",
            brand=item.brand,
            product_name=product_name,
            original_price=item.default_price,
            formatted_price=item.sale_price,
            discount=item.discount_percent,
            size_variant="xtra-small",
            image_size = 'w-45 h-60 md:w-55 md:h-70 lg:w-2xs lg:h-90',
            product_obj = item,
            attribute_value=item.attribute_value
            ) }}

        </a>
    </div>
{% endfor %}
{% endcall %}

{{caller()}}

{% endmacro %}